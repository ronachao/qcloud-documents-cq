## 产品架构
云平台MongoDB系统架构图如下
![架构图](http://imgcache.tcecqpoc.fsphere.cn/image/mccdn.qcloud.com/static/img/65628226168a3cf8d89643e8aadaeda9/jiagou.png)


#### 云平台MongoDB系统包括如下几大模块：

## 接入模块：Tencent Gateway & firewall
用于 MongoDB的整体接入，主要屏蔽IP/PORT的变化，使用户无感知，对业务逻辑透明，并针对未授权的访问进行隔离和管控
## 实例模块
为了保证高性能和高可用性，云平台MongoDB没有单点部署的实例，每一个实例内部都是一个副本集或者分片集群
## 接入模块：Proxy Set
类似开源MongoDB组件中的mongos一样的存在，用户直接连接到Proxy Set，而不是副本集或分片集群内部;Proxy Set能为副本集或者分片集群服务提供一致的访问方式，同时还承担部分监控数据上报的工作以及敏感操作屏蔽的功能。
## 	管理控制系统：Master
是整个云平台MongoDB集群的控制中心，主要管理整个集群中每个副本集/分片集群实例的状态，可用性，以及迁移，升级，备份，监控，系统部署等功能
## 监控系统：monitor system
主要处理每个实例上报的监控数据，用于分析每个实例的可用性，可靠性，并实时推送告警和邮件，告知用户名下的云平台 MongoDB实例的状态
## 备份系统：backup center
提供7天冷备数据，并提供5天内任意时间点的数据回档（限制条件详见回档功能技术原理），用于存储云平台MongoDB集群冷备数据，每个实例的冷备数据存储3份
## 日志中心：log center
用于存储每副本集或分片集群实例详细访问日志，用于提供详细可回溯问题的详细日志。
## 流程控制系统
用于提供售卖，开通服务的流程系统
## 任务调度系统
在多用户发起售卖，开通服务的任务调度系统
## 控制台系统
为用户提供实例控制入口，提供实例监控展现，以及数据库状态，规格等信息展现
